* { box-sizing: border-box; }
:root {
  --bg: #0a0a0a; --fg: #e8e8e8; --muted: #a8a8a8;
  --rail-w: 240px; --pad: 22px;
}
html, body { height: 100%; margin: 0; background: var(--bg); color: var(--fg); }
body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; }

/* Left rail */
.rail {
  position: fixed; inset: 0 auto 0 0; width: var(--rail-w);
  padding: var(--pad); z-index: 20;
  background: linear-gradient(180deg, rgba(8,8,8,.78), rgba(8,8,8,.38));
  border-right: 1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(8px);
  display: grid; gap: 16px; align-content: start;
}
.brand { font-weight: 700; letter-spacing: .01em; }
.chapters { display: grid; gap: 10px; }
.chapters a {
  color: var(--fg); text-decoration: none; opacity: .9;
  border: 1px solid rgba(255,255,255,.12);
  padding: 10px 12px; border-radius: 999px;
  background: rgba(20,20,20,.35);
  transition: border-color .16s ease, background .16s ease, transform .12s ease;
}
.chapters a:hover { border-color: rgba(255,255,255,.28); background: rgba(28,28,28,.45); }
.chapters a:active { transform: scale(.98); }
.note { margin-top: 6px; font-size: 12px; color: var(--muted); }

/* Layout */
main { margin-left: var(--rail-w); }
.chapter {
  position: relative; min-height: 100svh; display: grid; place-items: center;
  padding: clamp(24px, 6vw, 64px);
  overflow: hidden;
}
.wrap { max-width: 1100px; width: 100%; position: relative; z-index: 2; }
h1 { font-size: clamp(36px, 5vw, 72px); margin: 0 0 10px; }
h2 { font-size: clamp(28px, 4vw, 44px); margin: 0 0 10px; }
p  { font-size: clamp(16px, 1.6vw, 20px); line-height: 1.65; color: #d4d4d4; }

/* Progress pill (sticky in section) */
.progress {
  position: sticky; top: 14px; left: calc(var(--rail-w) + 14px);
  align-self: start; z-index: 3;
  background: rgba(18,18,18,.7);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 999px; padding: 8px 12px; font-size: 12px; color: var(--muted);
  backdrop-filter: blur(6px);
}

/* Backgrounds with subtle parallax */
.bg {
  position: absolute; inset: 0; z-index: 1;
  background-image: var(--img);
  background-size: cover; background-position: center;
  filter: contrast(1.02) brightness(.88) saturate(.9);
}
#fx {
  position: absolute; inset: 0; z-index: 2; display: block;
  image-rendering: pixelated; image-rendering: crisp-edges; pointer-events: none;
}

/* Grid (work) */
.grid {
  display: grid; gap: 16px;
  grid-template-columns: repeat(12, 1fr);
}
.card { grid-column: span 6; position: relative; overflow: hidden; border-radius: 16px; }
.card img { width: 100%; height: 100%; object-fit: cover; display: block; transform: scale(1.01); }
.card .meta {
  position: absolute; left: 12px; bottom: 12px;
  background: rgba(10,10,10,.55); border: 1px solid rgba(255,255,255,.14);
  padding: 10px 12px; border-radius: 12px; backdrop-filter: blur(6px);
}
.card h3 { margin: 0 0 2px; font-size: 16px; }
.card p  { margin: 0; font-size: 12px; color: var(--muted); }

/* Minimal player */
.player { display: inline-flex; gap: 12px; align-items: center; margin-top: 14px; }
.player button {
  border: 1px solid rgba(255,255,255,.2); border-radius: 999px;
  background: rgba(30,30,30,.6); color: var(--fg); padding: 8px 14px; cursor: pointer;
}
.player .track { color: var(--muted); font-size: 14px; }

/* Reveal on scroll */
.reveal { opacity: 0; transform: translateY(10px); transition: opacity .6s ease, transform .6s ease; }
.reveal.in { opacity: 1; transform: translateY(0); }
.delay-1 { transition-delay: .12s; }
.delay-2 { transition-delay: .22s; }
.delay-3 { transition-delay: .32s; }

/* Responsive tweaks */
@media (max-width: 980px) {
  :root { --rail-w: 210px; }
  .card { grid-column: span 12; }
}
@media (max-width: 720px) {
  :root { --rail-w: 180px; }
  .brand { font-size: 14px; }
}