:root{
  --night-900:#0a0f14;
  --night-800:#101824;
  --teal-700:#173241;
  --teal-600:#1f4252;
  --teal-500:#27586b;
  --cream-50:#eae5d8;
  --muted:#aab2ba;

  --amber:#ffc763;
  --ruby:#c3483a;
  --cobalt:#2e56c4;

  --ray: rgba(255, 237, 170, .18);
  --glow: 0 8px 26px rgba(0,0,0,.45), 0 0 60px rgba(255, 220, 150, .12);
  --panel-bg: rgba(12,16,22,.86);
  --panel-border: 1px solid rgba(255,255,255,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Work Sans', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--cream-50);
  background: var(--night-900);
  overflow-x:hidden;
}
h1,h2{font-family:'Playfair Display', serif; margin:.2rem 0 .6rem}

/* ---------- Topbar ---------- */
.topbar{
  position:fixed; inset:0 0 auto 0; z-index:40;
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; backdrop-filter: blur(6px);
  background: linear-gradient(180deg, rgba(10,15,20,.65), transparent);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.brand{font-weight:700; letter-spacing:.3px}
.topbar a{color:var(--cream-50); text-decoration:none; margin-left:12px; opacity:.85}
.topbar a:hover{opacity:1}

/* ---------- Scenes ---------- */
.scene{
  position:relative; height:100vh; overflow:hidden;
  display:flex; align-items:center; justify-content:center;
}
.copy{ position:relative; z-index:5; text-align:center; max-width:70ch; padding:0 16px; }
.copy h1{font-size: clamp(28px, 6vw, 56px)}
.copy p{color:var(--muted)}
.hint{
  margin-top:14px; font-size:.9rem; color:var(--muted);
  background: rgba(255,255,255,.07); padding:.35rem .6rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.12); display:inline-block
}

/* ---------- Layers (pure CSS shapes) ---------- */
.layer{ position:absolute; inset:0; }

/* Sky gradient */
.sky{
  background: linear-gradient(180deg, #1a2a3a 0%, #183041 45%, #142430 100%);
}
.sky--bright{
  background: linear-gradient(180deg, #1c3141 0%, #25485e 35%, #1a2f3b 100%);
}

/* Distant haze */
.haze{
  background:
    radial-gradient(1200px 420px at 50% 30%, rgba(255,255,255,.08), transparent 60%),
    radial-gradient(900px 320px at 60% 20%, rgba(200,230,255,.06), transparent 60%);
  mix-blend-mode: screen;
}

/* Silhouette hills (layered bands) */
.silhouettes{
  background:
    radial-gradient(140% 80% at 50% 120%, #0f1a23 0 38%, transparent 39%) bottom/100% 70% no-repeat,
    radial-gradient(140% 80% at 50% 120%, #11202a 0 40%, transparent 41%) bottom/100% 80% no-repeat,
    radial-gradient(140% 80% at 50% 120%, #0e1820 0 42%, transparent 43%) bottom/100% 90% no-repeat;
}

/* Abstract trunks (vertical bands with noise feel) */
.trunks{
  background:
    repeating-linear-gradient(90deg,
      rgba(22,42,56,.35) 0 6px,
      transparent 6px 56px),
    repeating-linear-gradient(90deg,
      rgba(16,32,44,.28) 0 4px,
      transparent 4px 46px);
  filter: blur(.3px);
}

/* Foreground shapes (cut-paper shrubs) */
.foreground{
  background:
    radial-gradient(100% 60% at 30% 110%, #0e1a20 0 62%, transparent 63%) bottom left / 70% 70% no-repeat,
    radial-gradient(100% 60% at 70% 110%, #0e1a20 0 62%, transparent 63%) bottom right / 70% 70% no-repeat,
    radial-gradient(120% 60% at 50% 120%, #0c181f 0 58%, transparent 59%) bottom / 100% 65% no-repeat;
}

/* Rays of light (Hopper-esque slashes) */
.rays{
  --ang: 25deg;
  background:
    conic-gradient(from var(--ang) at 30% -10%,
      transparent 0deg, var(--ray) 8deg, transparent 16deg),
    conic-gradient(from calc(var(--ang) + 4deg) at 45% -8%,
      transparent 0deg, var(--ray) 8deg, transparent 16deg),
    conic-gradient(from calc(var(--ang) + 6deg) at 65% -6%,
      transparent 0deg, var(--ray) 9deg, transparent 18deg);
  filter: blur(6px);
  mix-blend-mode: screen;
  opacity:.8;
}
.rays--wide{ opacity:.9; filter: blur(8px); }

/* Midground hills */
.midhills{
  background:
    radial-gradient(120% 80% at 20% 110%, #15323f 0 62%, transparent 63%) bottom left/70% 60% no-repeat,
    radial-gradient(120% 80% at 80% 110%, #143040 0 62%, transparent 63%) bottom right/70% 60% no-repeat;
}

/* Clearing hills (brighter greens) */
.clearing-hills{
  background:
    radial-gradient(140% 100% at 30% 120%, #164a3a 0 58%, transparent 59%) bottom left/70% 70% no-repeat,
    radial-gradient(140% 100% at 70% 120%, #1b5a44 0 58%, transparent 59%) bottom right/70% 70% no-repeat,
    radial-gradient(160% 120% at 50% 140%, #103b2e 0 58%, transparent 59%) bottom/100% 80% no-repeat;
  box-shadow: inset 0 -120px 160px rgba(0,0,0,.35);
}

/* ---------- Pinned clearing ---------- */
.pin-wrap{ height: 240vh; position:relative; }
.pin{
  position: sticky; top:0; height:100vh; overflow:hidden;
  display:grid; place-items:center;
}

/* Doors (pure CSS, beveled + glow) */
.doors{
  position:relative; z-index:5;
  display:flex; gap:min(5vw, 40px); align-items:flex-end; justify-content:center;
  transform: translateY(12vh);
}
.door{
  --w: clamp(80px, 10vw, 140px);
  --h: calc(var(--w) * 2);
  width: var(--w); height: var(--h);
  border-radius: 8px;
  border: 6px solid rgba(0,0,0,.55);
  position:relative; cursor:pointer;
  background:
    linear-gradient(180deg, rgba(255,255,255,.18), transparent 18%),
    linear-gradient(160deg, rgba(0,0,0,.35), rgba(255,255,255,.06) 40%, rgba(0,0,0,.45) 90%);
  box-shadow: var(--glow);
  transform-style: preserve-3d;
  transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;
}
.door::before{ /* inner panel */
  content:""; position:absolute; inset:10% 10%;
  border-radius: 4px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.3));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}
.door::after{ /* knob */
  content:""; position:absolute; right:10%; top:50%;
  width:12px; height:12px; border-radius:50%;
  background: rgba(30,18,10,.85); box-shadow: 0 0 0 2px rgba(255,255,255,.08);
  transform: translateY(-50%);
}
.door:hover{ transform: translateY(-6px) rotateX(1deg); filter: brightness(1.05); }
.door:focus-visible{ outline:2px solid #fff; outline-offset:4px }

.door--yellow{ background-color: #e1b356; }
.door--red{    background-color: #a54437; }
.door--blue{   background-color: #2d4ea6; }

.door__label{
  position:absolute; bottom:-2.2rem; left:50%; transform:translateX(-50%);
  font-weight:600; letter-spacing:.4px; opacity:.8;
}

/* ---------- Panels (modal) ---------- */
.panel{
  position: fixed; inset:0; display:grid; place-items:end center;
  background: rgba(0,0,0,.35);
  opacity:0; pointer-events:none; z-index:60;
  transition: opacity .3s ease;
}
.panel[open], .panel.active{ opacity:1; pointer-events:auto; }
.panel__inner{
  width:min(920px, 92vw); margin: 0 0 24px 0; padding:18px 18px 22px;
  background: var(--panel-bg); border: var(--panel-border); border-radius: 14px;
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
}
.panel__head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.panel__close{
  appearance:none; background: rgba(255,255,255,.06); color:#fff; border:1px solid rgba(255,255,255,.14);
  border-radius:10px; padding:.5rem .7rem; cursor:pointer;
}
.panel__close:hover{ background: rgba(255,255,255,.12); }

/* ---------- Outro / Footer ---------- */
.scene--outro{
  background: linear-gradient(180deg, #0f1620, #0a0f14);
  display:grid; place-items:center;
}
.footer{
  padding:24px; text-align:center; color:var(--muted);
  border-top:1px solid rgba(255,255,255,.06);
}

/* ---------- Motion sensitivity ---------- */
@media (prefers-reduced-motion: reduce){
  *{animation:none!important; transition:none!important}
}