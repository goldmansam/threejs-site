<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surreal Hills Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            overflow: hidden;
            background: #40E0D0; /* Turquoise fallback */
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
        }

        /* Navigation Header */
        .nav-header {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            z-index: 100;
            background: rgba(0, 0, 0, 0.15);
            padding: 15px 25px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .nav-btn.yellow { border-color: rgba(255, 193, 7, 0.6); }
        .nav-btn.red { border-color: rgba(220, 53, 69, 0.6); }
        .nav-btn.blue { border-color: rgba(0, 123, 255, 0.6); }

        /* Portfolio Panels */
        .panel-overlay {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70vh;
            background: rgba(20, 20, 30, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px 25px 0 0;
            transform: translateY(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 200;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.3);
        }

        .panel-overlay.active {
            transform: translateY(0);
        }

        .panel-content {
            padding: 40px;
            height: 100%;
            overflow-y: auto;
            color: white;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 20px;
        }

        .panel-title {
            font-size: 2.5em;
            font-weight: 300;
            letter-spacing: -1px;
        }

        .close-panel {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 30px;
            cursor: pointer;
            padding: 10px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-panel:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .panel-description {
            font-size: 1.2em;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 30px;
        }

        .project-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .detail-section h3 {
            color: #40E0D0;
            margin-bottom: 15px;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .detail-section p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .tech-tag {
            background: rgba(64, 224, 208, 0.2);
            color: #40E0D0;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.9em;
            border: 1px solid rgba(64, 224, 208, 0.3);
        }

        /* Floating Hint */
        .floating-hint {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 25px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 50;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }

        /* Color-specific panel styling */
        .panel-overlay.yellow .panel-title { color: #FFC107; }
        .panel-overlay.red .panel-title { color: #DC3545; }
        .panel-overlay.blue .panel-title { color: #007BFF; }

        .panel-overlay.yellow .detail-section h3 { color: #FFC107; }
        .panel-overlay.red .detail-section h3 { color: #DC3545; }
        .panel-overlay.blue .detail-section h3 { color: #007BFF; }

        .panel-overlay.yellow .tech-tag { 
            background: rgba(255, 193, 7, 0.2); 
            color: #FFC107; 
            border-color: rgba(255, 193, 7, 0.3);
        }
        .panel-overlay.red .tech-tag { 
            background: rgba(220, 53, 69, 0.2); 
            color: #DC3545; 
            border-color: rgba(220, 53, 69, 0.3);
        }
        .panel-overlay.blue .tech-tag { 
            background: rgba(0, 123, 255, 0.2); 
            color: #007BFF; 
            border-color: rgba(0, 123, 255, 0.3);
        }

        @media (max-width: 768px) {
            .nav-header {
                flex-direction: column;
                gap: 10px;
            }
            
            .project-details {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .panel-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Canvas Container -->
    <div id="canvas-container"></div>
    
    <!-- Navigation Header -->
    <div class="nav-header">
        <button class="nav-btn yellow" data-door="yellow">Yellow Door</button>
        <button class="nav-btn red" data-door="red">Red Door</button>
        <button class="nav-btn blue" data-door="blue">Blue Door</button>
    </div>
    
    <!-- Portfolio Panels -->
    <div class="panel-overlay yellow" id="yellow-panel">
        <div class="panel-content">
            <div class="panel-header">
                <h2 class="panel-title">Project A — Liminal Interactive</h2>
                <button class="close-panel">&times;</button>
            </div>
            <p class="panel-description">
                An immersive digital experience exploring the boundaries between physical and virtual spaces. 
                This interactive installation responds to user presence and movement, creating a liminal space 
                where reality and digital imagination converge.
            </p>
            <div class="project-details">
                <div class="detail-section">
                    <h3>Concept</h3>
                    <p>Liminal Interactive challenges traditional notions of space by creating environments that exist in the threshold between states. Users navigate through responsive digital landscapes that blur the line between observer and participant.</p>
                </div>
                <div class="detail-section">
                    <h3>Technology</h3>
                    <p>Built using advanced motion tracking, real-time rendering, and spatial audio to create truly immersive experiences that respond intelligently to human presence and interaction.</p>
                    <div class="tech-stack">
                        <span class="tech-tag">Three.js</span>
                        <span class="tech-tag">WebGL</span>
                        <span class="tech-tag">Motion Tracking</span>
                        <span class="tech-tag">Spatial Audio</span>
                        <span class="tech-tag">Real-time Rendering</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="panel-overlay red" id="red-panel">
        <div class="panel-content">
            <div class="panel-header">
                <h2 class="panel-title">Project B — Identity & Motion</h2>
                <button class="close-panel">&times;</button>
            </div>
            <p class="panel-description">
                A comprehensive brand identity system that comes alive through motion design. This project explores 
                how visual identity can evolve and adapt across different contexts while maintaining core brand essence 
                through dynamic, responsive design elements.
            </p>
            <div class="project-details">
                <div class="detail-section">
                    <h3>Visual Language</h3>
                    <p>Developed a flexible visual system that adapts to context while maintaining brand consistency. The identity system includes dynamic logos, adaptive color palettes, and responsive typography that evolves with user interaction.</p>
                </div>
                <div class="detail-section">
                    <h3>Motion Design</h3>
                    <p>Created fluid animation systems that bring the brand to life across digital touchpoints. Every transition and interaction reinforces the brand's core values through carefully crafted motion principles.</p>
                    <div class="tech-stack">
                        <span class="tech-tag">After Effects</span>
                        <span class="tech-tag">Lottie</span>
                        <span class="tech-tag">CSS Animations</span>
                        <span class="tech-tag">SVG Animation</span>
                        <span class="tech-tag">Brand Strategy</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="panel-overlay blue" id="blue-panel">
        <div class="panel-content">
            <div class="panel-header">
                <h2 class="panel-title">Project C — Web Experience</h2>
                <button class="close-panel">&times;</button>
            </div>
            <p class="panel-description">
                A cutting-edge web platform that pushes the boundaries of what's possible in the browser. 
                This project combines advanced web technologies with thoughtful UX design to create experiences 
                that feel native while remaining universally accessible.
            </p>
            <div class="project-details">
                <div class="detail-section">
                    <h3>User Experience</h3>
                    <p>Designed with accessibility and performance at the forefront. The interface adapts seamlessly across devices while providing rich, engaging interactions that enhance rather than distract from the core content.</p>
                </div>
                <div class="detail-section">
                    <h3>Technical Innovation</h3>
                    <p>Leverages modern web APIs and progressive enhancement to deliver app-like experiences in the browser. Built with performance optimization and cross-platform compatibility as core principles.</p>
                    <div class="tech-stack">
                        <span class="tech-tag">React</span>
                        <span class="tech-tag">WebGL</span>
                        <span class="tech-tag">PWA</span>
                        <span class="tech-tag">Web APIs</span>
                        <span class="tech-tag">Performance Optimization</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Hint -->
    <div class="floating-hint">
        Click a door • Drag to look • Scroll to zoom
    </div>

    <script>
        // ===== THREE.JS SCENE SETUP =====
        let scene, camera, renderer, controls;
        let hills = [];
        let doors = [];
        let raycaster, mouse;
        let clock = new THREE.Clock();
        
        // Door colors matching surrealist palette
        const doorColors = {
            yellow: { color: 0xFFC107, emissive: 0x664500, position: { x: -15, z: -10 } },
            red: { color: 0xDC3545, emissive: 0x661822, position: { x: 0, z: -15 } },
            blue: { color: 0x007BFF, emissive: 0x003366, position: { x: 15, z: -12 } }
        };

        function init() {
            // Scene setup
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x40E0D0, 50, 200);
            
            // Camera setup
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 15, 25);
            
            // Renderer setup
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(0x40E0D0); // Turquoise sky
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            document.getElementById('canvas-container').appendChild(renderer.domElement);
            
            // Controls setup with ground restriction
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.minPolarAngle = 0;
            controls.maxPolarAngle = Math.PI / 2.1; // Prevent going under ground
            controls.minDistance = 10;
            controls.maxDistance = 100;
            
            // Raycaster for mouse interaction
            raycaster = new THREE.Raycaster();
            mouse = new THREE.Vector2();
            
            // Create scene elements
            createLighting();
            createHills();
            createDoors();
            
            // Event listeners
            window.addEventListener('resize', onWindowResize);
            window.addEventListener('click', onMouseClick);
            setupUI();
            
            // Start animation loop
            animate();
        }

        function createLighting() {
            // Ambient light for overall illumination
            const ambientLight = new THREE.AmbientLight(0x87CEEB, 0.6);
            scene.add(ambientLight);
            
            // Directional light for shadows and depth
            const directionalLight = new THREE.DirectionalLight(0xFFFFFF, 0.8);
            directionalLight.position.set(50, 50, 25);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            directionalLight.shadow.camera.near = 0.5;
            directionalLight.shadow.camera.far = 200;
            directionalLight.shadow.camera.left = -50;
            directionalLight.shadow.camera.right = 50;
            directionalLight.shadow.camera.top = 50;
            directionalLight.shadow.camera.bottom = -50;
            scene.add(directionalLight);
        }

        function createHills() {
            // Create multiple rolling hills with organic shapes
            const hillPositions = [
                { x: -15, z: -10, scale: 1.2 },
                { x: 0, z: -15, scale: 1.5 },
                { x: 15, z: -12, scale: 1.0 },
                { x: -25, z: 5, scale: 0.8 },
                { x: 25, z: 0, scale: 0.9 }
            ];
            
            hillPositions.forEach((pos, index) => {
                const hillGeometry = new THREE.SphereGeometry(8 * pos.scale, 32, 16);
                
                // Deform geometry for organic hill shape
                const vertices = hillGeometry.attributes.position.array;
                for (let i = 0; i < vertices.length; i += 3) {
                    const x = vertices[i];
                    const y = vertices[i + 1];
                    const z = vertices[i + 2];
                    
                    // Only keep upper hemisphere and add noise
                    if (y > 0) {
                        const noise = (Math.sin(x * 0.5) + Math.cos(z * 0.3)) * 0.5;
                        vertices[i + 1] = y + noise;
                    } else {
                        vertices[i + 1] = 0; // Flatten bottom
                    }
                }
                hillGeometry.attributes.position.needsUpdate = true;
                hillGeometry.computeVertexNormals();
                
                // Hill material with deep green gradient
                const hillMaterial = new THREE.MeshLambertMaterial({
                    color: index < 3 ? 0x228B22 : 0x32CD32, // Darker green for main hills
                    transparent: true,
                    opacity: 0.9
                });
                
                const hill = new THREE.Mesh(hillGeometry, hillMaterial);
                hill.position.set(pos.x, -4, pos.z);
                hill.receiveShadow = true;
                hill.userData = { originalY: -4, breatheOffset: Math.random() * Math.PI * 2 };
                
                scene.add(hill);
                if (index < 3) hills.push(hill); // Only animate main hills
            });
        }

        function createDoors() {
            Object.entries(doorColors).forEach(([type, config]) => {
                // Door geometry - tall and imposing
                const doorGeometry = new THREE.BoxGeometry(4, 8, 0.5);
                
                // Door material with glow effect
                const doorMaterial = new THREE.MeshPhongMaterial({
                    color: config.color,
                    emissive: config.emissive,
                    emissiveIntensity: 0.2,
                    shininess: 30
                });
                
                const door = new THREE.Mesh(doorGeometry, doorMaterial);
                door.position.set(config.position.x, 2, config.position.z);
                door.castShadow = true;
                door.userData = { 
                    type: type, 
                    originalY: 2,
                    bouncing: false,
                    glowIntensity: 0.2
                };
                
                // Add subtle glow effect
                const glowGeometry = new THREE.BoxGeometry(4.2, 8.2, 0.7);
                const glowMaterial = new THREE.MeshBasicMaterial({
                    color: config.color,
                    transparent: true,
                    opacity: 0.1
                });
                const glow = new THREE.Mesh(glowGeometry, glowMaterial);
                door.add(glow);
                
                scene.add(door);
                doors.push(door);
            });
        }

        function animate() {
            requestAnimationFrame(animate);
            
            const elapsedTime = clock.getElapsedTime();
            
            // Animate hills breathing
            hills.forEach((hill, index) => {
                const breathe = Math.sin(elapsedTime * 0.5 + hill.userData.breatheOffset) * 0.3;
                hill.position.y = hill.userData.originalY + breathe;
            });
            
            // Animate door glow
            doors.forEach(door => {
                if (!door.userData.bouncing) {
                    const glow = Math.sin(elapsedTime * 2) * 0.1 + 0.2;
                    door.material.emissiveIntensity = glow;
                    door.userData.glowIntensity = glow;
                }
            });
            
            controls.update();
            renderer.render(scene, camera);
        }

        function onMouseClick(event) {
            // Calculate mouse position in normalized device coordinates
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
            
            // Raycast to detect door clicks
            raycaster.setFromCamera(mouse, camera);
            const intersects = raycaster.intersectObjects(doors);
            
            if (intersects.length > 0) {
                const clickedDoor = intersects[0].object;
                bounceDoor(clickedDoor);
                showPanel(clickedDoor.userData.type);
            }
        }

        function bounceDoor(door) {
            if (door.userData.bouncing) return;
            
            door.userData.bouncing = true;
            const originalY = door.userData.originalY;
            
            // Bounce animation using GSAP-like easing
            const duration = 600; // ms
            const startTime = Date.now();
            
            function bounce() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Bounce easing function
                let easeProgress;
                if (progress < 0.5) {
                    easeProgress = 2 * progress * progress;
                } else {
                    easeProgress = 1 - 2 * (1 - progress) * (1 - progress);
                }
                
                const bounceHeight = Math.sin(easeProgress * Math.PI) * 3;
                door.position.y = originalY + bounceHeight;
                
                // Enhanced glow during bounce
                door.material.emissiveIntensity = door.userData.glowIntensity + bounceHeight * 0.1;
                
                if (progress < 1) {
                    requestAnimationFrame(bounce);
                } else {
                    door.position.y = originalY;
                    door.material.emissiveIntensity = door.userData.glowIntensity;
                    door.userData.bouncing = false;
                }
            }
            
            bounce();
        }

        function showPanel(type) {
            // Hide all panels first
            document.querySelectorAll('.panel-overlay').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Show the selected panel
            setTimeout(() => {
                document.getElementById(`${type}-panel`).classList.add('active');
            }, 100);
        }

        function hideAllPanels() {
            document.querySelectorAll('.panel-overlay').forEach(panel => {
                panel.classList.remove('active');
            });
        }

        function setupUI() {
            // Navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const doorType = btn.dataset.door;
                    const door = doors.find(d => d.userData.type === doorType);
                    if (door) {
                        bounceDoor(door);
                        showPanel(doorType);
                    }
                });
            });
            
            // Close panel buttons
            document.querySelectorAll('.close-panel').forEach(btn => {
                btn.addEventListener('click', hideAllPanels);
            });
            
            // Close panels when clicking outside
            document.querySelectorAll('.panel-overlay').forEach(panel => {
                panel.addEventListener('click', (e) => {
                    if (e.target === panel) {
                        hideAllPanels();
                    }
                });
            });
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    hideAllPanels();
                } else if (e.key === '1') {
                    showPanel('yellow');
                } else if (e.key === '2') {
                    showPanel('red');
                } else if (e.key === '3') {
                    showPanel('blue');
                }
            });
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Initialize the scene when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>

